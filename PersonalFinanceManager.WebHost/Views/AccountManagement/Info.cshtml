@model PersonalFinanceManager.Shared.Dto.UserInfoDto

<div class="account-container">
    <h2 class="account-title">Thông Tin Tài Khoản</h2>
    <div class="account-card">
        <div class="card-body">
            <h5 class="info-text">Tên người dùng: @Model.Name</h5>
            <p class="info-text">Email: @Model.Email</p>
        </div>
    </div>
    <div class="account-card">
        <div class="card-body">
            <h5 class="info-text">Trạng Thái Kết Nối Gmail</h5>
            <p class="status-text @(Model.IsGmailConnected ? "" : "disconnected")">
                Trạng thái: @(Model.IsGmailConnected ? "Đã kết nối" : "Chưa kết nối")
            </p>
            <p class="info-text">Để lấy giao dịch từ Gmail, bạn cần kết nối tài khoản Gmail của mình.</p>
            @if (Model.IsGmailConnected)
            {
                <button id="disConnectGmailBtn" class="btn disconnect-btn">
                    <i class="bi bi-envelope"></i> Ngắt kết nối Gmail
                    <span id="gmailSpinnerDisconnect" class="spinner-border spinner-border-sm" role="status" style="display: none;"></span>
                </button>
            }
            else
            {
                <button id="connectGmailBtn" class="btn connect-btn">
                    <i class="bi bi-envelope"></i> Kết nối Gmail
                    <span id="gmailSpinnerConnect" class="spinner-border spinner-border-sm" role="status" style="display: none;"></span>
                </button>
            }
            <p class="muted-text">Chúng tôi chỉ đọc các email liên quan đến giao dịch ngân hàng.</p>
        </div>
    </div>
</div>

@section Scripts {
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" />
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/dataTables.bootstrap5.min.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <link rel="stylesheet" href="~/css/account-management-info.css" asp-append-version="true" />
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
    <script src="~/js/utilities.js" asp-append-version="true"></script>
    <script src="~/js/account-management-info.js" asp-append-version="true"></script>
}